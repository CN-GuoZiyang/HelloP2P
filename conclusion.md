### <center>结论</center>

hello程序最初只是一个存储在磁盘或固态硬盘上的C语言ascii码文件。预处理器、编译器将它转化为汇编语言的ascii码文件，汇编器将其转化为一个可重定位目标文件，实现了模块化编程。链接器将模块与静态链接库链接在一起，生成了真正可执行的目标文件。

用户在shell中输出执行hello的指令，shell解析指令并调用fork函数，fork函数的调用创建了一个子进程，且进入内核模式，在虚拟内存上开辟一块空间指向与父进程相同的物理内存，接着子进程调用execve函数，将hello的虚拟地址空间指向磁盘上hello的内存映像。

当CPU开始逐步取指执行，由于Linux系统是按页来管理内存的，当所需的数据所在的页不在物理内存上时就会产生缺页异常，内核将从磁盘上将虚拟页装载入内存并再次执行。

CPU从hello处获取到的内存都是虚拟地址，这时就会通过内存管理单元（MMU）将其转化为物理地址，MMU按照多级页表翻译虚拟地址，三级缓存和TLB加速了这一过程。

hello进程和外部硬件设备的交互是通过设备驱动文件的，进程向操作系统请求系统调用，操作系统通过读写驱动文件来从硬件设备中读写数据。

最终，hello进程运行结束，进程终止，shell进程获取进程终止时发出的SIGCHLD信号，将hello进程回收。

计算机系统是一个复杂的系统，各个部件之间的交互关系复杂，流程繁琐。但是这又是一个简单的系统，各个组件之间都遵循着一些最基本的规则和机制，效率极高。计算机系统仿佛一个分工明确的工厂，软件硬件各司其职，协调工作。只有理解了这个系统的基本操作流程，我们（程序员）才能更好地设计上层的程序。